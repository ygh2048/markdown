# 启动流程
## 启动模式

STM32有三种启动模式
1. 主闪存启动（flash）:从stm32内置的flash启动，一般jtag或者swd就是这种启动方式
2. 系统存储器启动（system memory）:ISP启动，可以通过串口下载程序
3. 内置SRAM启动 



## 具体步骤
0. STM32上电或者复位
1. 硬件自动序列
   1. 从地址0x00000000(映射到flash开始)，读取第一个32位作为初始主栈指针MSP的值
2. m0从0x00000004存放的复位向量地址，执行reset_handler
3. reset_handler函数执行一些必要的初始化：堆初始化，全局，静态变量初始化等（startup_stm32****.s文件提供）
   1. 初始化.data和.bss
   2. 调用systeminit配置系统时钟
   3. C库初始化函数（可选）
4. 跳转到main函数中 BX或BLX指令







# 硬件


## 引脚

### 推挽输出
使用两个MOS管，一个上拉(推)一个下拉(挽)   

可以明确输出高低电平

两个推挽引脚，如果一高一底相连会烧毁芯片
不能线与

带负载能力强，高低电平转换速度快    

可以明确输出高低电平

电平跳转快     



### 开漏输出
IIC总线，用于实现总线仲裁     


使用一个N MOS，负责下拉


驱动能力弱


可以实现线与

电平跳转慢

# 存储
## FLASH
- 非易失
- 按照block擦除，page写入
- 写入慢，读取快
- 便宜
- 用于大容量存储

## EEPROM
- 非易失
- 按照字节读写
- 写入慢 ms
- 昂贵
- 存储少量但是需要频繁读写的数据
## SRAM
- 静态随机存储器
- 易失
- 不需要刷新
- 读写速度极快
- 成本昂贵
- 功耗较高
- 用于cache
## DRAM
- 动态随机存储器
- 易失
- 需要刷新
- 速度快
- 成本便宜
- 用于主内存